(()=>{var e={};e.id=394,e.ids=[394],e.modules={47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},71017:e=>{"use strict";e.exports=require("path")},57310:e=>{"use strict";e.exports=require("url")},14787:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>i.a,__next_app__:()=>m,originalPathname:()=>u,pages:()=>c,routeModule:()=>p,tree:()=>d});var r=s(50482),a=s(69108),n=s(62563),i=s.n(n),l=s(68300),o={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>l[e]);s.d(t,o);let d=["",{children:["menu-items",{children:["edit",{children:["[id]",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,49627)),"/Users/harishsanjay/Webdevelopment/Next-project/drinks-app/src/app/menu-items/edit/[id]/page.js"]}]},{}]},{}]},{metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,73881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(s.bind(s,98973)),"/Users/harishsanjay/Webdevelopment/Next-project/drinks-app/src/app/layout.js"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,69361,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,73881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],c=["/Users/harishsanjay/Webdevelopment/Next-project/drinks-app/src/app/menu-items/edit/[id]/page.js"],u="/menu-items/edit/[id]/page",m={require:s,loadChunk:()=>Promise.resolve()},p=new r.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/menu-items/edit/[id]/page",pathname:"/menu-items/edit/[id]",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},79605:(e,t,s)=>{Promise.resolve().then(s.bind(s,31620))},49572:(e,t,s)=>{"use strict";s.d(t,{Z:()=>n});var r=s(95344),a=s(3729);let n=({label:e,onDelete:t})=>{let[s,n]=(0,a.useState)(!1);return s?r.jsx("div",{className:"fixed bg-black/80 inset-0 flex items-center h-full justify-center",children:(0,r.jsxs)("div",{className:"bg-white p-4 rounded-lg",children:[r.jsx("div",{children:"Are you sure you want to delete?.."}),(0,r.jsxs)("div",{className:"flex gap-4",children:[r.jsx("button",{onClick:()=>n(!1),className:"btn",children:"Cancel"}),r.jsx("button",{className:"text-white btn1 bg-[red]",onClick:t,children:"Yes\xa0Delete!"})]})]})}):r.jsx("div",{children:r.jsx("button",{onClick:()=>n(!0),className:"btn",type:"button",children:e})})}},83526:(e,t,s)=>{"use strict";s.d(t,{Z:()=>l});var r=s(95344),a=s(3729),n=s(31247),i=s(56506);function l({onSubmit:e,menuItem:t}){let[s,l]=(0,a.useState)(),[o,d]=(0,a.useState)(),[c,u]=(0,a.useState)(),[m,p]=(0,a.useState)(),[x,h]=(0,a.useState)(""),[b,g]=(0,a.useState)("");(0,a.useEffect)(()=>{l(t?.image||""),d(t?.Name||""),u(t?.Baseprice||"0"),p(t?.DiscountPrice||"0"),h(t?.PercentageOFF||"0%"),g(t?.TotalQuantity||"0")},[t]);let j=(e,t,s)=>{let r=parseFloat(e)||0,a=parseFloat(t);isNaN(r)||isNaN(a)||isNaN(s)?(p("0"),h("0%"),g("0")):r>0&&t>0?h(`${Math.floor((r-t)/r*100)}`):h("0%")};return(0,r.jsxs)("div",{children:[r.jsx("div",{children:r.jsx(n.Z,{link:s,setLink:l})}),r.jsx("div",{className:"mt-8",children:r.jsx(i.default,{className:"max-w-md mx-auto block border border-gray-300 rounded-lg p-2 text-center cursor-pointer mt-[3rem]",href:"/menu-items",children:"Show all Menu item"})}),r.jsx("form",{className:"mt-8",onSubmit:t=>e(t,{image:s,Name:o,Baseprice:c,DiscountPrice:m,PercentageOFF:x,TotalQuantity:b}),children:r.jsx("div",{className:"gap-2 items-end",children:(0,r.jsxs)("div",{className:"grow",children:[r.jsx("label",{children:"Item Name"}),r.jsx("input",{className:"block w-full rounded-xl mb-2 p-2 border border-gray-300 bg-gray-200",value:o,onChange:e=>d(e.target.value),type:"text"}),r.jsx("label",{children:"Base Price"}),r.jsx("input",{className:"block w-full rounded-xl mb-2 p-2 border border-gray-300 bg-gray-200",value:c,onChange:e=>{let t=parseFloat(e.target.value);u(t),j(t,m)},type:"text"}),r.jsx("label",{children:"Discount Price"}),r.jsx("input",{className:"block w-full rounded-xl mb-2 p-2 border border-gray-300 bg-gray-200",value:m,onChange:e=>{let t=parseFloat(e.target.value);p(t),j(c,t,b)},type:"text"}),r.jsx("label",{children:"%Percentage OFF"}),r.jsx("input",{className:"block w-full rounded-xl mb-2 p-2 border border-gray-300 bg-gray-400",disabled:!0,value:x,type:"text"}),r.jsx("label",{children:"Set Quantity"}),r.jsx("input",{className:"block w-full rounded-xl mb-2 p-2 border border-gray-300 bg-gray-200",value:b,onChange:e=>g(Math.max(0,parseInt(e.target.value,10))),type:"number"}),r.jsx("div",{className:"pt-[0.8rem]",children:r.jsx("button",{type:"submit",className:"btn create-btn rounded-xl",children:"Save"})})]})})})]})}},66242:(e,t,s)=>{"use strict";s.d(t,{j:()=>a});var r=s(3729);function a(){let[e,t]=(0,r.useState)([]),s=async()=>{try{let e=await fetch("/api/cart-items"),s=await e.json();t(s)}catch(e){console.error(e)}};return(0,r.useEffect)(()=>{s()},[]),{data:e,refreshCart:async()=>{await s()}}}},31620:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>u});var r=s(95344),a=s(83526),n=s(3729),i=s(44669),l=s(8428),o=s(90104),d=s(49572),c=s(66242);function u(){let{refreshCart:e}=(0,c.j)(),[t,s]=(0,n.useState)(!1),[u,m]=(0,n.useState)(null);console.log(u);let{id:p}=(0,l.useParams)();async function x(t,r){t.preventDefault(),r={...r,_id:p};let a=new Promise(async(e,t)=>{(await fetch("/api/menu-items",{method:"PUT",body:JSON.stringify(r),headers:{"Content-Type":"application/json"}})).ok?e():t()});await i.default.promise(a,{loading:"Saving this drink",success:"Saved",error:"Error"}),s(!0),await e()}async function h(){let e=new Promise(async(e,t)=>{(await fetch("/api/menu-items?_id="+p,{method:"DELETE"})).ok?e():t()});await i.default.promise(e,{loading:"Deleting...",success:"Deleted",error:"Error"}),s(!0)}return(console.log({id:p}),(0,n.useEffect)(()=>{fetch("/api/menu-items").then(e=>{e.json().then(e=>{m(e.find(e=>e._id===p))})})},[]),t)?(0,l.redirect)("/menu-items"):r.jsx("div",{children:(0,r.jsxs)("section",{className:"mt-8 max-w-lg mx-auto",children:[r.jsx(o.Z,{isAdmin:!0}),r.jsx("div",{children:r.jsx(a.Z,{menuItem:u,onSubmit:x})}),r.jsx("div",{className:"mt-[10px]",children:r.jsx(d.Z,{label:"Delete this menu Item",onDelete:h})})]})})}},49627:(e,t,s)=>{"use strict";s.r(t),s.d(t,{$$typeof:()=>n,__esModule:()=>a,default:()=>i});let r=(0,s(86843).createProxy)(String.raw`/Users/harishsanjay/Webdevelopment/Next-project/drinks-app/src/app/menu-items/edit/[id]/page.js`),{__esModule:a,$$typeof:n}=r,i=r.default}};var t=require("../../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[638,929,337,410,953],()=>s(14787));module.exports=r})();