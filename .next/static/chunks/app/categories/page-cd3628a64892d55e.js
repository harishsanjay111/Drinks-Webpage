(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[457],{4784:function(e,t,s){Promise.resolve().then(s.bind(s,9929))},7907:function(e,t,s){"use strict";var n=s(5313);s.o(n,"redirect")&&s.d(t,{redirect:function(){return n.redirect}}),s.o(n,"useParams")&&s.d(t,{useParams:function(){return n.useParams}}),s.o(n,"usePathname")&&s.d(t,{usePathname:function(){return n.usePathname}})},6953:function(e,t,s){"use strict";var n=s(7437),a=s(2265);t.Z=e=>{let{label:t,onDelete:s}=e,[r,i]=(0,a.useState)(!1);return r?(0,n.jsx)("div",{className:"fixed bg-black/80 inset-0 flex items-center h-full justify-center",children:(0,n.jsxs)("div",{className:"bg-white p-4 rounded-lg",children:[(0,n.jsx)("div",{children:"Are you sure you want to delete?.."}),(0,n.jsxs)("div",{className:"flex gap-4",children:[(0,n.jsx)("button",{onClick:()=>i(!1),className:"btn",children:"Cancel"}),(0,n.jsx)("button",{className:"text-white btn1 bg-[red]",onClick:s,children:"Yes\xa0Delete!"})]})]})}):(0,n.jsx)("div",{children:(0,n.jsx)("button",{onClick:()=>i(!0),className:"btn",type:"button",children:t})})}},1644:function(e,t,s){"use strict";s.d(t,{Z:function(){return i}});var n=s(7437),a=s(8792);s(8403);var r=s(7907);function i(e){let{isAdmin:t}=e,s=(0,r.usePathname)();return console.log(s),(0,n.jsxs)("div",{className:"mb-[3rem] flex mx-auto max-[768px]:gap-5 gap-2 tabs justify-center",children:[(0,n.jsx)(a.default,{className:"/Profile"===s?"active":"",href:"/Profile",children:"Profile"}),t&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(a.default,{className:s.includes("menu-items")?"active":"",href:"/menu-items",children:"Menu Items"}),(0,n.jsx)(a.default,{className:s.includes("users")?"active":"",href:"/users",children:"Users"})]})]})}},3119:function(e,t,s){"use strict";s.d(t,{U:function(){return a}});var n=s(2265);function a(){let[e,t]=(0,n.useState)(!1),[s,a]=(0,n.useState)(!0);return(0,n.useEffect)(()=>{a(!0),fetch("/api/profile").then(e=>{e.json().then(e=>{t(e),a(!1)})})},[]),{Loading:s,data:e}}},9929:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return u}});var n=s(7437);s(6997);var a=s(1644),r=s(3119),i=s(2265),l=s(6953),c=s(8009);function u(){let{Loading:e,data:t}=(0,r.U)(),[s,u]=(0,i.useState)(""),[o,d]=(0,i.useState)([]),[m,f]=(0,i.useState)(null);function h(){fetch("api/categories").then(e=>{e.json().then(e=>{d(e)})})}console.log(m),(0,i.useEffect)(()=>{h()},[]);let x=async e=>{e.preventDefault();let t=new Promise(async(e,t)=>{let n={name:s};m&&(n._id=m._id);let a=await fetch("api/categories",{method:m?"PUT":"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)});u(""),h(),f(null),a.ok?e():t()});c.default.dismiss(),await c.default.promise(t,{loading:"Creating your new Category...",success:"Category created",error:"Error sorry..."})};async function g(e){let t=new Promise(async(t,s)=>{(await fetch("/api/categories?_id="+e,{method:"DELETE"})).ok?t():s()});c.default.dismiss(),await c.default.promise(t,{loading:"Deleting...",success:"Deleted",error:"Error"}),h()}return e?"Loading user Info....":t.admin?(0,n.jsxs)("section",{className:"mt-8 max-w-2xl mx-auto",children:[(0,n.jsx)(a.Z,{isAdmin:!0}),(0,n.jsx)("form",{className:"mt-8",onSubmit:x,children:(0,n.jsxs)("div",{className:"flex gap-2 items-end",children:[(0,n.jsxs)("div",{className:"grow",children:[(0,n.jsxs)("label",{children:[" ",m?"Update Category Name":"New Category Name",": ",m&&(0,n.jsx)("b",{children:m.name})]}),(0,n.jsx)("input",{value:s,onChange:e=>u(e.target.value),className:"block w-full rounded-xl mb-2 p-2 border border-gray-300 bg-gray-200",type:"text"})]}),(0,n.jsxs)("div",{className:"pb-2 flex gap-2",children:[(0,n.jsx)("button",{type:"submit",className:"create-btn btn  h-[2.6rem] rounded-xl",children:m?"Update":"Create"}),(0,n.jsx)("button",{type:"button",className:"btn",onClick:()=>{f(null),u("")},children:"Cancel"})]})]})}),(0,n.jsxs)("ul",{children:[(0,n.jsx)("h2",{className:"mt-8 text-sm text-gray-500",children:"Existing category:"}),(null==o?void 0:o.length)>0&&o.map(e=>(0,n.jsxs)("div",{className:"bg-gray-100 rounded-xl p-2 p-4 flex gap-1 mb-1",children:[(0,n.jsx)("div",{className:"grow hover:underline cursor-pointer gap-2",children:(0,n.jsx)("div",{className:"grow",children:e.name})}),(0,n.jsxs)("div",{className:"gap-2 flex",children:[(0,n.jsx)("button",{className:"btn",onClick:()=>{f(e),u(e.name)},children:"Edit"}),(0,n.jsx)(l.Z,{label:"Delete",onDelete:()=>g(e._id)})]})]},e._id))]})]}):"Not an Admin...."}},8403:function(){},6997:function(){}},function(e){e.O(0,[792,9,971,69,744],function(){return e(e.s=4784)}),_N_E=e.O()}]);