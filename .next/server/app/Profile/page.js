(()=>{var e={};e.id=614,e.ids=[614],e.modules={47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},71017:e=>{"use strict";e.exports=require("path")},57310:e=>{"use strict";e.exports=require("url")},57832:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>n.a,__next_app__:()=>u,originalPathname:()=>p,pages:()=>c,routeModule:()=>x,tree:()=>d});var s=r(50482),a=r(69108),l=r(62563),n=r.n(l),i=r(68300),o={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>i[e]);r.d(t,o);let d=["",{children:["Profile",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,96075)),"/Users/harishsanjay/Webdevelopment/Next-project/drinks-app/src/app/Profile/page.js"]}]},{metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,73881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(r.bind(r,98973)),"/Users/harishsanjay/Webdevelopment/Next-project/drinks-app/src/app/layout.js"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,69361,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,73881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],c=["/Users/harishsanjay/Webdevelopment/Next-project/drinks-app/src/app/Profile/page.js"],p="/Profile/page",u={require:r,loadChunk:()=>Promise.resolve()},x=new s.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/Profile/page",pathname:"/Profile",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},49058:(e,t,r)=>{Promise.resolve().then(r.bind(r,7122))},16359:(e,t,r)=>{"use strict";r.d(t,{Z:()=>a});var s=r(95344);r(3729);let a=({AddressProps:e,setAddressProps:t})=>{let{phone:r,streetAddress:a,Postalcode:l,Country:n,City:i}=e;return(0,s.jsxs)("div",{children:[s.jsx("label",{className:"pl-[10px]",children:"Phone"}),s.jsx("input",{className:"block w-full  rounded-xl p-4 border border-gray-300 bg-gray-200",type:"tel",placeholder:"phone number",value:r,onChange:e=>t("phone",e.target.value)}),s.jsx("label",{className:"pl-[10px]",children:"Street"}),s.jsx("input",{className:"block w-full  rounded-xl p-4 border border-gray-300 bg-gray-200",type:"text",placeholder:"Street",value:a,onChange:e=>t("streetAddress",e.target.value)}),(0,s.jsxs)("div",{className:" grid grid-cols-2 gap-2",children:[(0,s.jsxs)("div",{children:[s.jsx("label",{className:"pl-[10px]",children:"Postal code"}),s.jsx("input",{style:{margin:"0"},className:" block w-full  rounded-xl p-4 border border-gray-300 bg-gray-200",type:"text",placeholder:"Postal code",value:l,onChange:e=>t("Postalcode",e.target.value)})]}),(0,s.jsxs)("div",{children:[s.jsx("label",{className:"pl-[10px]",children:"City"}),s.jsx("input",{style:{margin:"0"},className:"block w-full  rounded-xl p-4 border border-gray-300 bg-gray-200",type:"text",placeholder:"City",value:i,onChange:e=>t("City",e.target.value)})]})]}),s.jsx("label",{className:"pl-[10px]",children:"Country"}),s.jsx("input",{className:"block w-full rounded-xl mb-4 p-4 border border-gray-300 bg-gray-200",type:"text",placeholder:"Country",value:n,onChange:e=>t("Country",e.target.value)})]})}},75851:(e,t,r)=>{"use strict";r.d(t,{Z:()=>d});var s=r(95344),a=r(3729),l=r(89410),n=r(31247),i=r(88975),o=r(16359);let d=({user:e,onSave:t})=>{let[r,d]=(0,a.useState)(""),[c,p]=(0,a.useState)(""),[u,x]=(0,a.useState)(""),[m,h]=(0,a.useState)(""),[g,b]=(0,a.useState)(""),[f,j]=(0,a.useState)(""),[y,v]=(0,a.useState)(""),[P,N]=(0,a.useState)(!1),{data:k}=(0,i.U)();return(0,a.useEffect)(()=>{d(e?.name||""),p(e?.phone||""),x(e?.streetAddress||""),h(e?.Postalcode||""),b(e?.City||""),j(e?.Country||""),v(e?.image||""),N(e?.admin||!1)},[e]),(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:"rounded-xl mt-[30px]",children:[s.jsx("div",{children:!y&&s.jsx(l.default,{src:"/profile-icon.png",width:100,height:100,alt:"Picture of the author",className:"mx-auto rounded-[10px]"})}),s.jsx("div",{children:s.jsx(n.Z,{link:y,setLink:v})})]}),s.jsx("form",{className:"max-w-md mx-auto",onSubmit:e=>t(e,{name:r,phone:c,streetAddress:u,Postalcode:m,City:g,Country:f,image:y,admin:P}),children:s.jsx("div",{className:" gap-10 items-center pt-[1rem]",children:(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{children:[s.jsx("label",{className:"pl-[10px]",children:"First name"}),s.jsx("input",{className:"block w-full  rounded-xl p-4 border border-gray-300 bg-gray-200",type:"text",placeholder:"First and last name",value:r,onChange:e=>d(e.target.value)})]}),s.jsx("label",{className:"pl-[10px]",children:"Email"}),s.jsx("input",{className:"block w-full  rounded-xl p-4 border border-gray-300 bg-gray-500",type:"email",disabled:!0,value:e?.email}),s.jsx(o.Z,{AddressProps:{phone:c,streetAddress:u,Postalcode:m,City:g,Country:f},setAddressProps:function(e,t){"phone"===e&&p(t),"streetAddress"===e&&x(t),"Postalcode"===e&&h(t),"City"===e&&b(t),"Country"===e&&j(t)}}),k.admin&&s.jsx("div",{children:(0,s.jsxs)("label",{className:"p-2 inline-flex items-center gap-2 mb-2",htmlFor:"adminCb",children:[s.jsx("input",{id:"adminCb",type:"checkbox",className:"",value:"1",checked:P,onClick:e=>N(e.target.checked)}),s.jsx("span",{children:"Admin"})]})}),s.jsx("button",{className:"save-btn block w-full font-semibold border rounded-xl px-6 py-2",type:"submit",children:"Save"})]})})})]})}},88975:(e,t,r)=>{"use strict";r.d(t,{U:()=>a});var s=r(3729);function a(){let[e,t]=(0,s.useState)(!1),[r,a]=(0,s.useState)(!0);return(0,s.useEffect)(()=>{a(!0),fetch("/api/profile").then(e=>{e.json().then(e=>{t(e),a(!1)})})},[]),{Loading:r,data:e}}},7122:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>c});var s=r(95344),a=r(3729);r(75076);var l=r(47674),n=r(90104),i=r(8428),o=r(44669),d=r(75851);let c=()=>{let[e,t]=(0,a.useState)(null),[r,c]=(0,a.useState)(!1),[p,u]=(0,a.useState)(!1),x=(0,l.useSession)(),{status:m}=x;async function h(e,t){e.preventDefault();let r=await fetch("/api/profile",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});console.log(t),r.ok?t.name.length>=3&&(o.default.dismiss(),o.default.success("Profile Saved!")):(o.default.dismiss(),o.default.error("Error"))}return((0,a.useEffect)(()=>{"authenticated"===m&&fetch("/api/profile").then(e=>{e.json().then(e=>{t(e),c(e.admin),u(!0)})})},[x,m]),"loading"!==m&&p)?"unauthenticated"===m?(0,i.redirect)("/login"):(0,s.jsxs)("section",{className:"mt-8",children:[s.jsx(n.Z,{isAdmin:r}),s.jsx("div",{className:"rounded-xl mt-[30px]",children:s.jsx(d.Z,{user:e,onSave:h})})]}):"loading..."}},96075:(e,t,r)=>{"use strict";r.r(t),r.d(t,{$$typeof:()=>l,__esModule:()=>a,default:()=>n});let s=(0,r(86843).createProxy)(String.raw`/Users/harishsanjay/Webdevelopment/Next-project/drinks-app/src/app/Profile/page.js`),{__esModule:a,$$typeof:l}=s,n=s.default},75076:()=>{}};var t=require("../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[638,929,337,410,953],()=>r(57832));module.exports=s})();