(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[385],{393:function(e,t,r){Promise.resolve().then(r.bind(r,4704))},7907:function(e,t,r){"use strict";var a=r(5313);r.o(a,"redirect")&&r.d(t,{redirect:function(){return a.redirect}}),r.o(a,"useParams")&&r.d(t,{useParams:function(){return a.useParams}}),r.o(a,"usePathname")&&r.d(t,{usePathname:function(){return a.usePathname}})},4246:function(e,t,r){"use strict";r.d(t,{Z:function(){return l}});var a=r(7437),n=r(8009),s=r(703);function l(e){let{link:t,setLink:r}=e;async function l(e){let t=e.target.files;if((null==t?void 0:t.length)===1){let e=new FormData;e.set("file",t[0]);let a=fetch("/api/upload",{method:"POST",body:e}).then(async e=>{if(e.ok)return e.json().then(e=>{r(e)});throw Error("Something went wrong")});await n.default.promise(a,{loading:"Uploading...",success:"Upload complete",error:"Upload error"})}}return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"text-center",children:!t&&(0,a.jsx)("div",{children:"No Image"})}),t&&(0,a.jsx)(s.default,{className:"rounded-lg mx-auto  mb-1",src:t,width:100,height:100,alt:"avatar"}),(0,a.jsxs)("label",{children:[(0,a.jsx)("input",{type:"file",className:"hidden",onChange:l}),(0,a.jsx)("span",{className:" w-[60px] mx-auto block border border-gray-300 rounded-lg p-2 text-center cursor-pointer mt-[3rem]",children:"Edit"})]})]})}},3173:function(e,t,r){"use strict";r.d(t,{Z:function(){return i}});var a=r(7437),n=r(2265),s=r(4246),l=r(8792);function i(e){let{onSubmit:t,menuItem:r}=e,[i,u]=(0,n.useState)(),[c,o]=(0,n.useState)(),[d,m]=(0,n.useState)(),[f,h]=(0,n.useState)(),[x,b]=(0,n.useState)(""),[p,g]=(0,n.useState)("");(0,n.useEffect)(()=>{u((null==r?void 0:r.image)||""),o((null==r?void 0:r.Name)||""),m((null==r?void 0:r.Baseprice)||"0"),h((null==r?void 0:r.DiscountPrice)||"0"),b((null==r?void 0:r.PercentageOFF)||"0%"),g((null==r?void 0:r.TotalQuantity)||"0")},[r]);let v=(e,t,r)=>{let a=parseFloat(e)||0,n=parseFloat(t);isNaN(a)||isNaN(n)||isNaN(r)?(h("0"),b("0%"),g("0")):a>0&&t>0?b("".concat(Math.floor((a-t)/a*100))):b("0%")};return(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{children:(0,a.jsx)(s.Z,{link:i,setLink:u})}),(0,a.jsx)("div",{className:"mt-8",children:(0,a.jsx)(l.default,{className:"max-w-md mx-auto block border border-gray-300 rounded-lg p-2 text-center cursor-pointer mt-[3rem]",href:"/menu-items",children:"Show all Menu item"})}),(0,a.jsx)("form",{className:"mt-8",onSubmit:e=>t(e,{image:i,Name:c,Baseprice:d,DiscountPrice:f,PercentageOFF:x,TotalQuantity:p}),children:(0,a.jsx)("div",{className:"gap-2 items-end",children:(0,a.jsxs)("div",{className:"grow",children:[(0,a.jsx)("label",{children:"Item Name"}),(0,a.jsx)("input",{className:"block w-full rounded-xl mb-2 p-2 border border-gray-300 bg-gray-200",value:c,onChange:e=>o(e.target.value),type:"text"}),(0,a.jsx)("label",{children:"Base Price"}),(0,a.jsx)("input",{className:"block w-full rounded-xl mb-2 p-2 border border-gray-300 bg-gray-200",value:d,onChange:e=>{let t=parseFloat(e.target.value);m(t),v(t,f)},type:"text"}),(0,a.jsx)("label",{children:"Discount Price"}),(0,a.jsx)("input",{className:"block w-full rounded-xl mb-2 p-2 border border-gray-300 bg-gray-200",value:f,onChange:e=>{let t=parseFloat(e.target.value);h(t),v(d,t,p)},type:"text"}),(0,a.jsx)("label",{children:"%Percentage OFF"}),(0,a.jsx)("input",{className:"block w-full rounded-xl mb-2 p-2 border border-gray-300 bg-gray-400",disabled:!0,value:x,type:"text"}),(0,a.jsx)("label",{children:"Set Quantity"}),(0,a.jsx)("input",{className:"block w-full rounded-xl mb-2 p-2 border border-gray-300 bg-gray-200",value:p,onChange:e=>g(Math.max(0,parseInt(e.target.value,10))),type:"number"}),(0,a.jsx)("div",{className:"pt-[0.8rem]",children:(0,a.jsx)("button",{type:"submit",className:"btn create-btn rounded-xl",children:"Save"})})]})})})]})}},1644:function(e,t,r){"use strict";r.d(t,{Z:function(){return l}});var a=r(7437),n=r(8792);r(8403);var s=r(7907);function l(e){let{isAdmin:t}=e,r=(0,s.usePathname)();return console.log(r),(0,a.jsxs)("div",{className:"mb-[3rem] flex mx-auto max-[768px]:gap-5 gap-2 tabs justify-center",children:[(0,a.jsx)(n.default,{className:"/Profile"===r?"active":"",href:"/Profile",children:"Profile"}),t&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n.default,{className:r.includes("menu-items")?"active":"",href:"/menu-items",children:"Menu Items"}),(0,a.jsx)(n.default,{className:r.includes("users")?"active":"",href:"/users",children:"Users"})]})]})}},7613:function(e,t,r){"use strict";r.d(t,{j:function(){return n}});var a=r(2265);function n(){let[e,t]=(0,a.useState)([]),r=async()=>{try{let e=await fetch("/api/cart-items"),r=await e.json();t(r)}catch(e){console.error(e)}};return(0,a.useEffect)(()=>{r()},[]),{data:e,refreshCart:async()=>{await r()}}}},4704:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return o}});var a=r(7437);r(1161);var n=r(2265),s=r(8009),l=r(3173),i=r(1644),u=r(7907),c=r(7613);function o(){let[e,t]=(0,n.useState)(!1),{refreshCart:r}=(0,c.j)();async function o(e,r){e.preventDefault();let a=new Promise(async(e,t)=>{(await fetch("/api/menu-items",{method:"POST",body:JSON.stringify(r),headers:{"Content-Type":"application/json"}})).ok?e():t()});await s.default.promise(a,{loading:"Saving this drink",success:"Saved",error:"Error"}),t(!0)}return e?(0,u.redirect)("/menu-items"):(0,a.jsx)("div",{children:(0,a.jsxs)("section",{className:"mt-8 max-w-lg mx-auto",children:[(0,a.jsx)(i.Z,{isAdmin:!0}),(0,a.jsx)("div",{className:"mt-8"}),(0,a.jsx)("div",{children:(0,a.jsx)(l.Z,{onSubmit:o})})]})})}},8403:function(){},1161:function(){}},function(e){e.O(0,[792,9,703,971,69,744],function(){return e(e.s=393)}),_N_E=e.O()}]);