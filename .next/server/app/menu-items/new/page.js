(()=>{var e={};e.id=385,e.ids=[385],e.modules={47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},71017:e=>{"use strict";e.exports=require("path")},57310:e=>{"use strict";e.exports=require("url")},4565:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>i.a,__next_app__:()=>p,originalPathname:()=>u,pages:()=>c,routeModule:()=>m,tree:()=>d});var a=r(50482),s=r(69108),n=r(62563),i=r.n(n),o=r(68300),l={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>o[e]);r.d(t,l);let d=["",{children:["menu-items",{children:["new",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,16306)),"/Users/harishsanjay/Webdevelopment/Next-project/drinks-app/src/app/menu-items/new/page.js"]}]},{}]},{metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,73881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(r.bind(r,98973)),"/Users/harishsanjay/Webdevelopment/Next-project/drinks-app/src/app/layout.js"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,69361,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,73881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],c=["/Users/harishsanjay/Webdevelopment/Next-project/drinks-app/src/app/menu-items/new/page.js"],u="/menu-items/new/page",p={require:r,loadChunk:()=>Promise.resolve()},m=new a.AppPageRouteModule({definition:{kind:s.x.APP_PAGE,page:"/menu-items/new/page",pathname:"/menu-items/new",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},83754:(e,t,r)=>{Promise.resolve().then(r.bind(r,12945))},83526:(e,t,r)=>{"use strict";r.d(t,{Z:()=>o});var a=r(95344),s=r(3729),n=r(31247),i=r(56506);function o({onSubmit:e,menuItem:t}){let[r,o]=(0,s.useState)(),[l,d]=(0,s.useState)(),[c,u]=(0,s.useState)(),[p,m]=(0,s.useState)(),[x,h]=(0,s.useState)(""),[b,g]=(0,s.useState)("");(0,s.useEffect)(()=>{o(t?.image||""),d(t?.Name||""),u(t?.Baseprice||"0"),m(t?.DiscountPrice||"0"),h(t?.PercentageOFF||"0%"),g(t?.TotalQuantity||"0")},[t]);let j=(e,t,r)=>{let a=parseFloat(e)||0,s=parseFloat(t);isNaN(a)||isNaN(s)||isNaN(r)?(m("0"),h("0%"),g("0")):a>0&&t>0?h(`${Math.floor((a-t)/a*100)}`):h("0%")};return(0,a.jsxs)("div",{children:[a.jsx("div",{children:a.jsx(n.Z,{link:r,setLink:o})}),a.jsx("div",{className:"mt-8",children:a.jsx(i.default,{className:"max-w-md mx-auto block border border-gray-300 rounded-lg p-2 text-center cursor-pointer mt-[3rem]",href:"/menu-items",children:"Show all Menu item"})}),a.jsx("form",{className:"mt-8",onSubmit:t=>e(t,{image:r,Name:l,Baseprice:c,DiscountPrice:p,PercentageOFF:x,TotalQuantity:b}),children:a.jsx("div",{className:"gap-2 items-end",children:(0,a.jsxs)("div",{className:"grow",children:[a.jsx("label",{children:"Item Name"}),a.jsx("input",{className:"block w-full rounded-xl mb-2 p-2 border border-gray-300 bg-gray-200",value:l,onChange:e=>d(e.target.value),type:"text"}),a.jsx("label",{children:"Base Price"}),a.jsx("input",{className:"block w-full rounded-xl mb-2 p-2 border border-gray-300 bg-gray-200",value:c,onChange:e=>{let t=parseFloat(e.target.value);u(t),j(t,p)},type:"text"}),a.jsx("label",{children:"Discount Price"}),a.jsx("input",{className:"block w-full rounded-xl mb-2 p-2 border border-gray-300 bg-gray-200",value:p,onChange:e=>{let t=parseFloat(e.target.value);m(t),j(c,t,b)},type:"text"}),a.jsx("label",{children:"%Percentage OFF"}),a.jsx("input",{className:"block w-full rounded-xl mb-2 p-2 border border-gray-300 bg-gray-400",disabled:!0,value:x,type:"text"}),a.jsx("label",{children:"Set Quantity"}),a.jsx("input",{className:"block w-full rounded-xl mb-2 p-2 border border-gray-300 bg-gray-200",value:b,onChange:e=>g(Math.max(0,parseInt(e.target.value,10))),type:"number"}),a.jsx("div",{className:"pt-[0.8rem]",children:a.jsx("button",{type:"submit",className:"btn create-btn rounded-xl",children:"Save"})})]})})})]})}},66242:(e,t,r)=>{"use strict";r.d(t,{j:()=>s});var a=r(3729);function s(){let[e,t]=(0,a.useState)([]),r=async()=>{try{let e=await fetch("/api/cart-items"),r=await e.json();t(r)}catch(e){console.error(e)}};return(0,a.useEffect)(()=>{r()},[]),{data:e,refreshCart:async()=>{await r()}}}},12945:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>c});var a=r(95344);r(85378);var s=r(3729),n=r(44669),i=r(83526),o=r(90104),l=r(8428),d=r(66242);function c(){let[e,t]=(0,s.useState)(!1),{refreshCart:r}=(0,d.j)();async function c(e,r){e.preventDefault();let a=new Promise(async(e,t)=>{(await fetch("/api/menu-items",{method:"POST",body:JSON.stringify(r),headers:{"Content-Type":"application/json"}})).ok?e():t()});await n.default.promise(a,{loading:"Saving this drink",success:"Saved",error:"Error"}),t(!0)}return e?(0,l.redirect)("/menu-items"):a.jsx("div",{children:(0,a.jsxs)("section",{className:"mt-8 max-w-lg mx-auto",children:[a.jsx(o.Z,{isAdmin:!0}),a.jsx("div",{className:"mt-8"}),a.jsx("div",{children:a.jsx(i.Z,{onSubmit:c})})]})})}},16306:(e,t,r)=>{"use strict";r.r(t),r.d(t,{$$typeof:()=>n,__esModule:()=>s,default:()=>i});let a=(0,r(86843).createProxy)(String.raw`/Users/harishsanjay/Webdevelopment/Next-project/drinks-app/src/app/menu-items/new/page.js`),{__esModule:s,$$typeof:n}=a,i=a.default},85378:()=>{}};var t=require("../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),a=t.X(0,[638,929,337,410,953],()=>r(4565));module.exports=a})();