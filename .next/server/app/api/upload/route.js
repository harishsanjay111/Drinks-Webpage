(()=>{var e={};e.id=998,e.ids=[998],e.modules={30517:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},2642:(e,t,r)=>{"use strict";r.r(t),r.d(t,{headerHooks:()=>g,originalPathname:()=>h,patchFetch:()=>S,requestAsyncStorage:()=>l,routeModule:()=>d,serverHooks:()=>m,staticGenerationAsyncStorage:()=>f,staticGenerationBailout:()=>v});var s={};r.r(s),r.d(s,{POST:()=>c});var o=r(95419),n=r(69108),a=r(99678);let i=require("@aws-sdk/client-s3");var p=r(98692),u=r.n(p);async function c(e){let t=await e.formData();if(t.get("file")){let e=t.get("file"),r=new i.S3Client({region:"us-east-1",credentials:{accessKeyId:process.env.NEW_AWS_ACCESS_KEY,secretAccessKey:process.env.NEW_AWS_SECRET_KEY}}),s=e.name.split(".").slice(-1)[0],o=u()()+"."+s,n=[];for await(let t of e.stream())n.push(t);let a=Buffer.concat(n),p="drinks-apps";return console.log(p),await r.send(new i.PutObjectCommand({Bucket:p,Key:o,ACL:"public-read",ContentType:e.type,Body:a})),Response.json("https://"+p+".s3.amazonaws.com/"+o)}return Response.json(!0)}let d=new o.AppRouteRouteModule({definition:{kind:n.x.APP_ROUTE,page:"/api/upload/route",pathname:"/api/upload",filename:"route",bundlePath:"app/api/upload/route"},resolvedPagePath:"/Users/harishsanjay/Webdevelopment/Next-project/drinks-app/src/app/api/upload/route.js",nextConfigOutput:"",userland:s}),{requestAsyncStorage:l,staticGenerationAsyncStorage:f,serverHooks:m,headerHooks:g,staticGenerationBailout:v}=d,h="/api/upload/route";function S(){return(0,a.patchFetch)({serverHooks:m,staticGenerationAsyncStorage:f})}},95419:(e,t,r)=>{"use strict";e.exports=r(30517)},98692:e=>{var t="undefined"!=typeof process&&process.pid?process.pid.toString(36):"";function r(){var e=Date.now(),t=r.last||e;return r.last=e>t?e:t+1}e.exports=e.exports.default=function(e,s){return(e||"")+""+t+r().toString(36)+(s||"")},e.exports.process=function(e,s){return(e||"")+t+r().toString(36)+(s||"")},e.exports.time=function(e,t){return(e||"")+r().toString(36)+(t||"")}}};var t=require("../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[638],()=>r(2642));module.exports=s})();